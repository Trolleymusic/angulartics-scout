!function(window,angular,undefined){"use strict";angular.module("angulartics.scout",["angulartics"]).config(["$analyticsProvider","$windowProvider",function($analyticsProvider,$windowProvider){function scoutIsReady(){return!(!$window.$AOC||!$window.$AOC.recordPageHit)&&!(!$window.$SAT||!$window.$SAT.clearContent)}function pageTrack(path){return scoutIsReady()?$analyticsProvider.settings.scout.disablePageTracking?void outputDebug("Page tracking disabled"):($window.$SAT.clearContent(),$window.$SAT.push(["setUser",$analyticsProvider.settings.scout.userId],["setContent","siteName",$analyticsProvider.settings.scout.siteName],["setContent","language",$analyticsProvider.settings.scout.language],["setContent","pageName",path]),outputDebug("Page track",$window.$SAT.getContent()),void $window.$AOC.recordPageHit()):void outputDebug("Scout not ready")}function eventTrack(action,properties){var scoutProperties;return scoutIsReady()?$analyticsProvider.settings.scout.disableEventTracking?void outputDebug("Event tracking disabled"):($window.$SAT.clearContent(),$window.$SAT.push(["setUser",$analyticsProvider.settings.scout.userId],["setContent","siteName",$analyticsProvider.settings.scout.siteName],["setContent","language",$analyticsProvider.settings.scout.language],["setContent","action",action]),scoutProperties=Object.getOwnPropertyNames(properties).map(function(key){return["setContent",key,properties[key]]}),scoutProperties.forEach(function(contentItem){$window.$SAT.push(contentItem)}),outputDebug("Event track",$window.$SAT.getContent()),void $window.$AOC.recordPageHit()):void outputDebug("Scout not ready")}function setUsername(userId){outputDebug("Scout: setUsername:",userId),$analyticsProvider.settings.scout.userId=userId}function outputDebug(){$analyticsProvider.settings.scout.debugMode&&console.log.apply($window,arguments)}var $window=$windowProvider.$get();$analyticsProvider.settings.pageTracking.trackRelativePath=!0,$analyticsProvider.settings.scout={debugMode:!1,disableEventTracking:!1,disablePageTracking:!1,language:"",sectionName:"",siteName:"",userId:""},$analyticsProvider.registerSetUsername(setUsername),$window.angulartics.waitForVendorApi("$SAT",1e3,function(){outputDebug("$SAT OK",$window.$SAT),$analyticsProvider.registerPageTrack(pageTrack),$analyticsProvider.registerEventTrack(eventTrack)})}])}(window,window.angular);
//# sourceMappingURL=../dist/angulartics-scout.min.js.map